@{
    int vb_index = 0;
    List<StrawmanApp.Models.BoyMassMarketModels> yitem = (List<StrawmanApp.Models.BoyMassMarketModels>)ViewBag.BoyYTD;
    int _year = (ViewBag.YearPeriod == null) ? 2015 : int.Parse(new DateTime((int)ViewBag.YearPeriod, 1, 1).ToString("yyyy"));    
    foreach (StrawmanApp.Models.BoyMassMarketModels yitemaux in Model)
    {
        StrawmanApp.Models.BoyMassMarketModels item = (StrawmanApp.Models.BoyMassMarketModels)yitem.Where(m => m.brand == yitemaux.brand && m.market == yitemaux.market && m.channel == yitemaux.channel).FirstOrDefault();
        Html.RenderPartial("~/Views/BoyMassMarket/_BOYStdView.cshtml", item, new ViewDataDictionary { { "yitemaux", yitemaux }, { "header", new[] { "" + (_year - 2).ToString(), "" + (_year - 1).ToString(), "% Growth VYA" } } });
        
        vb_index++;
    }          
}
