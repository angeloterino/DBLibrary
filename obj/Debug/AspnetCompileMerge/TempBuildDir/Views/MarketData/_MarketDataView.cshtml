@model IEnumerable<StrawmanApp.Models.MarketDataModels>
<tr><td colspan="4" style="border:0; font-size:0.5em;">&nbsp;</td></tr>
 @{decimal? t = 0;
    foreach (StrawmanApp.Models.MarketDataModels item in ViewBag.MarketData)
    {
        string _style = "";
        if (item.vorder != item.vgroup && item.source !="CHANNEL"){
            <tr class="grid-row" style="text-align:center;"> 
                <td class="grid-cell" style="text-align: right; font-weight:bold;">@Html.DisplayFor(m=>item.market_name)</td>
                <td class="grid-cell">@Html.DisplayFor(m=>item.data)</td>
                <td class="grid-cell">@Html.DisplayFor(m=>item.source)</td>
                <td class="grid-cell" style="text-align: right; font-weight:bold;">@Html.DisplayFor(m=>item.brand_name)</td>
            </tr>
        }else{
            if (item.vorder == item.vgroup) { _style = "background-color: rgb(128,0,128);color:rgb(255,255,255);"; }
            if (item.vorder > item.vgroup) { _style = "background-color: rgb(255,0,0);color:rgb(255,255,255);"; } 
            <tr class="grid-row" style="text-align:center;@_style"> 
                <td colspan="4" class="grid-cell" style="text-align: right; font-weight:bold;">@Html.DisplayFor(m => item.market_name)</td>
            </tr>        
            if (item.vorder > item.vgroup) {
                <tr class="grid-row" style="text-align:center;"> 
                    <td colspan="4" class="grid-cell" style="text-align: right; font-weight:bold; border:0;">&nbsp;</td>
                </tr>  
            }
        }
        
        t = item.vgroup;
    }
  }
