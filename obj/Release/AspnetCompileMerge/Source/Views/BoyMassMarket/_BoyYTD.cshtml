@{
    int vb_index = 0;
    int _year = (ViewBag.YearPeriod == null) ? 15 : int.Parse(new DateTime((int)ViewBag.YearPeriod, 1, 1).ToString("yy"));
    List<StrawmanApp.Models.BoyMassMarketModels> yitem = (List<StrawmanApp.Models.BoyMassMarketModels>)ViewBag.BoyYTD;
    foreach (StrawmanApp.Models.BoyMassMarketModels yitemaux in Model)
    {
        StrawmanApp.Models.BoyMassMarketModels item = (StrawmanApp.Models.BoyMassMarketModels)yitem.Where(m=>m.market == yitemaux.market && m.brand == yitemaux.brand && m.channel == yitemaux.channel).FirstOrDefault();
        Html.RenderPartial("~/Views/BoyMassMarket/_BOYStdView.cshtml",item,new ViewDataDictionary{{"yitemaux",yitemaux},{"header",new[]{"YTD" + (_year -1).ToString(),"YTD" + (_year).ToString(),"% Growth VYA"}}});
        vb_index++;
    }         
}
