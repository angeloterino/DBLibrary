@model StrawmanApp.Models.StrawmanDataModel
@using GridMvc.Html;    
@Ajax.BeginForm("UpdateDataRow", new AjaxOptions { HttpMethod ="POST", OnSuccess ="UpdateRowSuccess", OnFailure ="UpdateRowFailure" }){
    @if(Model.brand!=null){
    @Html.Grid((List<StrawmanApp.Entities.StrwmanPreviewBrandData>)Model.brand,new GridRenderOptions { GridName = "brand" }).Columns(columns =>
        {
            columns.Add(foo => foo.DESCRIPTION).Encoded(false).Sanitized(false).RenderValueAs(o => Html.TextBoxFor(m => o.DESCRIPTION, new { @class = "form-control" }).ToHtmlString());
            columns.Add(foo => foo.TOTAL).Encoded(false).Sanitized(false).RenderValueAs(o => Html.TextBoxFor(m => o.TOTAL, new { @class = "form-control" }).ToHtmlString()); ;
            columns.Add(foo => foo.MONTH).Encoded(false).Sanitized(false).RenderValueAs(o => Html.TextBoxFor(m => o.MONTH, new { @class = "form-control" }).ToHtmlString());
            columns.Add(foo => foo.YTD).Encoded(false).Sanitized(false).RenderValueAs(o => Html.TextBoxFor(m => o.YTD, new { @class = "form-control" }).ToHtmlString());
            columns.Add(foo => foo.MAT).Encoded(false).Sanitized(false).RenderValueAs(o => Html.TextBoxFor(m => o.MAT, new { @class = "form-control" }).ToHtmlString());
            columns.Add().Encoded(false).Sanitized(false).SetWidth(30).RenderValueAs(o => @<button type="submit" data-type="save" data-target-market="@o.MARKET" data-target-brand="@o.BRAND" class="btn btn-default">Save</button>);
        }).Selectable(false)
    }
    @if(Model.market!= null){
    @Html.Grid((List<StrawmanApp.Entities.StrwmanPreviewMarketData>)Model.market,new GridRenderOptions { GridName = "market" }).Columns(columns =>
        {
            columns.Add(foo => foo.DESCRIPTION).Encoded(false).Sanitized(false).RenderValueAs(o => Html.TextBoxFor(m => o.DESCRIPTION, new { @class = "form-control" }).ToHtmlString());
            columns.Add(foo => foo.TOTAL).Encoded(false).Sanitized(false).RenderValueAs(o => Html.TextBoxFor(m => o.TOTAL, new { @class = "form-control" }).ToHtmlString()); ;
            columns.Add(foo => foo.MONTH).Encoded(false).Sanitized(false).RenderValueAs(o => Html.TextBoxFor(m => o.MONTH, new { @class = "form-control" }).ToHtmlString());
            columns.Add(foo => foo.YTD).Encoded(false).Sanitized(false).RenderValueAs(o => Html.TextBoxFor(m => o.YTD, new { @class = "form-control" }).ToHtmlString());
            columns.Add(foo => foo.MAT).Encoded(false).Sanitized(false).RenderValueAs(o => Html.TextBoxFor(m => o.MAT, new { @class = "form-control" }).ToHtmlString());
            columns.Add().Encoded(false).Sanitized(false).SetWidth(30).RenderValueAs(o => @<button type="submit" data-type="save" data-target-market="@o.MARKET" data-target-brand="" class="btn btn-default">Save</button>);
        }).Selectable(false)
    }
}